<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Prenotazione Pizzeria</title>
  <style>
    :root {
      --main-bg: #f8f5f0;
      --accent: #c7a17a;
      --primary: #2c1810;
      --light: #fff;
      --card: #faf8f3;
      --shadow: rgba(60, 40, 20, 0.05) 0 3px 8px;
    }

    html, body {
      margin: 0;
      padding: 0;
      min-height: 100vh;
      font-family: 'Segoe UI', Arial, sans-serif;
      background: var(--main-bg);
      color: var(--primary);
    }

    /* Container base */
    .booking-form-container {
      max-width: 600px;
      margin: 40px auto;
      padding: 40px;
      background: var(--card);
      border-radius: 20px;
      box-shadow: var(--shadow);
    }

    .home-btn {
      text-decoration: none;
      background: #d73e00;
      color: #fff;
      padding: 10px 18px;
      border-radius: 4px;
      font-size: 1em;
      transition: background .15s;
      font-weight: 600;
    }
    .home-btn:hover { background: #a32b00; }

    /* Titolo e sottotitolo */
    .booking-title {
      color: var(--primary);
      text-align: center;
      margin-bottom: 10px;
      font-size: 28px;
      font-weight: 700;
    }
    .booking-subtitle {
      text-align: center;
      color: #ac9277;
      margin-bottom: 30px;
      font-size: 14px;
    }

    /* Gruppi e campi form */
    .booking-form-group {
      margin-bottom: 20px;
    }
    .booking-form-group label {
      display: block;
      margin-bottom: 8px;
      color: var(--primary);
      font-weight: 600;
      font-size: 14px;
    }
    .booking-form-group input,
    .booking-form-group textarea,
    .booking-form-group select {
      width: 100%;
      padding: 12px 15px;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      font-size: 15px;
      transition: all 0.3s ease;
      font-family: inherit;
      background-color: var(--light);
      color: var(--primary);
    }
    .booking-form-group input:focus,
    .booking-form-group textarea:focus,
    .booking-form-group select:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 3px #c7a17a44;
    }
    .booking-form-group textarea {
      resize: vertical;
      min-height: 100px;
    }
    .booking-required {
      color: #e74c3c;
    }
    /* Bottone invio */
    .booking-submit-btn {
      width: 100%;
      padding: 15px;
      background: var(--accent);
      color: var(--light);
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      box-shadow: var(--shadow);
      transition: transform 0.18s, box-shadow 0.2s, background 0.2s;
      margin-top: 10px;
    }
    .booking-submit-btn:hover {
      background: var(--primary);
      color: var(--accent);
      transform: translateY(-2px);
      box-shadow: 0 10px 20px #c7a17a44;
    }
    .booking-submit-btn:active {
      transform: translateY(0);
    }
    .booking-submit-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }
    /* Layout */
    .booking-form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
    }
    /* Messaggi di successo/errore */
    .booking-success-message {
      background: #e6e1d6;
      border: 2px solid var(--accent);
      color: var(--primary);
      padding: 20px;
      border-radius: 8px;
      text-align: center;
      margin-bottom: 20px;
      display: none;
    }
    .booking-success-message h3 {
      margin-bottom: 10px;
      color: var(--accent);
      font-size: 20px;
    }
    .booking-error-message {
      background: #f7ece6;
      border: 2px solid #d4b08a;
      color: #a25537;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      text-align: center;
      display: none;
    }
    /* Responsive Design */
    @media (max-width: 600px) {
      .booking-form-container {
        padding: 30px 10px;
        margin: 18px;
      }
      .booking-title {
        font-size: 24px;
      }
      .booking-form-row {
        grid-template-columns: 1fr;
      }
    }

    /* Sezione Contatto */
    .contatto-centrale {
      display: flex; justify-content: center; align-items: center;
      padding: 30px 10px;
    }
    .contatto-box {
      background: #fff; border-radius: 20px; padding: 40px 30px;
      text-align: center; box-shadow: 0 10px 40px rgba(0,0,0,0.07); max-width: 440px; width: 100%;
    }
    .telefono-icon {font-size: 52px; margin-bottom: 18px;}
    .contatto-box h3 {color: #333; font-size: 20px; margin-bottom: 10px; font-weight: 600;}
    .numero-telefono {
      display: block; color: #667eea; font-size: 26px;
      font-weight: 700; text-decoration: none;
      margin: 16px 0; transition: all 0.3s ease;
    }
    .numero-telefono:hover {color: #764ba2; transform: scale(1.05);}
    .contatto-box p {color: #666; font-size: 16px; margin-top: 12px;}
    @media (max-width:600px){
      .contatto-box {padding: 28px 8px;}
      .numero-telefono {font-size: 19px;}
      .telefono-icon {font-size: 36px;}
    }
  </style>
  <script>
    // Imposta la data minima su oggi al caricamento
    document.addEventListener('DOMContentLoaded', function() {
      const today = new Date().toISOString().split('T')[0];
      const dataInput = document.getElementById('data');
      if (dataInput) {
        dataInput.setAttribute('min', today);
      }

      // Gestisci invio form AJAX (per non ricaricare la pagina e mostrare messaggi)
      const form = document.getElementById('bookingForm');
      const submitBtn = document.getElementById('submitBtn');
      const successMessage = document.getElementById('successMessage');
      const errorMessage = document.getElementById('errorMessage');
      if(form){
        form.addEventListener('submit', async function(e){
          e.preventDefault();
          // Disabilita bottone e reset messaggi
          submitBtn.disabled = true;
          submitBtn.textContent = 'Invio in corso...';
          successMessage.style.display = 'none';
          errorMessage.style.display = 'none';
          try {
            const formData = new FormData(form);
            const response = await fetch('https://api.web3forms.com/submit', {
              method: 'POST',
              body: formData
            });
            const data = await response.json();
            if (data.success) {
              successMessage.style.display = 'block';
              form.style.display = 'none';
              successMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
              form.reset();
            } else {
              throw new Error('Invio fallito');
            }
          } catch(err){
            errorMessage.style.display = 'block';
            submitBtn.disabled = false;
            submitBtn.textContent = 'Invia Prenotazione';
            errorMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
          }
        });
      }
    });
  </script>
</head>
<body>
  <div class="booking-form-container">
    <div style="display: flex; justify-content: flex-end; margin-bottom: 10px;">
      <a href="index.html" class="home-btn">Torna alla Home</a>
    </div>
    <div style="text-align: center; font-size: 2em; margin-bottom: 20px; color: #d73e00;">
      PRENOTAZIONI DISPONIBILI SOLO A PRANZO
    </div>
    <section id="prenotazione" class="menu-section">
      <h2 class="booking-title">üçï Prenota il tuo tavolo</h2>
      <p class="booking-subtitle">Compila il modulo per prenotare nella nostra pizzeria</p>

      <div class="booking-success-message" id="successMessage">
        <h3>‚úì Prenotazione Inviata!</h3>
        <p>Grazie per la tua prenotazione.</p>
      </div>

      <div class="booking-error-message" id="errorMessage">
        Si √® verificato un errore. Riprova pi√π tardi.
      </div>

      <form action="https://api.web3forms.com/submit" method="POST" id="bookingForm" class="booking-form">
        <input type="hidden" name="access_key" value="994da2ad-6a2d-4162-93a0-45d51b01b271" />
        <input type="hidden" name="subject" value="Nuova Prenotazione Pizzeria" />
        <input type="hidden" name="from_name" value="Form Prenotazioni" />

        <div class="booking-form-group">
          <label for="nome">Nome Completo <span class="booking-required">*</span></label>
          <input type="text" id="nome" name="nome" placeholder="Mario Rossi" required />
        </div>
        <div class="booking-form-group">
          <label for="email">Email <span class="booking-required">*</span></label>
          <input type="email" id="email" name="email" placeholder="mario.rossi@example.com" required />
        </div>
        <div class="booking-form-group">
          <label for="telefono">Telefono <span class="booking-required">*</span></label>
          <input type="tel" id="telefono" name="telefono" placeholder="+39 123 456 7890" required />
        </div>
        <div class="booking-form-row">
          <div class="booking-form-group">
            <label for="data">Data <span class="booking-required">*</span></label>
            <input type="date" id="data" name="data" required />
          </div>
          <div class="booking-form-group">
            <label for="ora">Ora <span class="booking-required">*</span></label>
            <input type="time" id="ora" name="ora" required />
          </div>
        </div>
        <div class="booking-form-group">
          <label for="persone">Numero di Persone <span class="booking-required">*</span></label>
          <select id="persone" name="persone" required>
            <option value="">Seleziona...</option>
            <option value="1">1 persona</option>
            <option value="2">2 persone</option>
            <option value="3">3 persone</option>
            <option value="4">4 persone</option>
            <option value="5">5 persone</option>
            <option value="6">6 persone</option>
            <option value="7">7 persone</option>
            <option value="8">8 persone</option>
            <option value="9+">9 o pi√π persone</option>
          </select>
        </div>
        <div class="booking-form-group">
          <label for="note">Note aggiuntive (opzionale)</label>
          <textarea id="note" name="note" placeholder="Allergie, richieste speciali, preferenze sul tavolo..."></textarea>
        </div>
        <button type="submit" id="submitBtn" class="booking-submit-btn">Invia Prenotazione</button>
      </form>
    </section>

    <!-- CONTATTI -->
    <section id="contattaci" class="menu-section">
      <div style="text-align: center; font-size: 2em; margin-bottom: 20px; color: #d73e00;">
        PRENOTAZIONI DISPONIBILI SOLO A PRANZO
      </div>
      <h2 style="text-align: center;">OPPURE CONTATTACI A</h2>
      <div class="contatto-centrale">
        <div class="contatto-box">
          <div class="telefono-icon">üìû</div>
          <h3>Chiamaci subito</h3>
          <a href="tel:+393805844815" class="numero-telefono">380 584 4815</a>
          <p>Disponibili per prenotazioni</p>
        </div>
      </div>
    </section>
  </div>
</body>
</html>

